{% extends "base.html" %}
{% block content %}
<div style="background-image: url({{ url_for('static', filename='img/fundo-dna.jpg') }}); background-size: cover; background-position: center; min-height: 100vh;">
  <div class="login-container">
    <div class="login-box">
      <h2>Login</h2>

      {% if erro %}
        <p id="mensagem-erro" style="color: red;">{{ erro }}</p>
      {% endif %}

      <form action="{{ url_for('login') }}" method="POST">
        <input type="email" name="email" placeholder="Email" required>
        <input type="password" name="senha" placeholder="Senha" required>

        <label for="tipo">Sou:</label>
        <select name="tipo" required>
          <option value="">Selecione</option>
          <option value="paciente">Paciente</option>
          <option value="medico">Médico</option>
        </select>

        <button type="submit">Entrar</button>
      </form>

      <p>Não tem uma conta?</p>
      <p>
        <a href="{{ url_for('cadastro_paciente') }}">Cadastrar como Paciente</a> |
        <a href="{{ url_for('cadastro_medico') }}">Cadastrar como Médico</a>
      </p>
    </div>
  </div>
</div>

<script>
window.addEventListener("DOMContentLoaded", function () {
  const mensagem = document.getElementById("mensagem-erro");

  if (mensagem) {
    setTimeout(() => {
      mensagem.style.opacity = "0";
      mensagem.style.transition = "opacity 1s ease";

      setTimeout(() => {
        mensagem.style.display = "none";
      }, 1000);
    }, 4000);
  }
});
</script>
{% endblock %}
